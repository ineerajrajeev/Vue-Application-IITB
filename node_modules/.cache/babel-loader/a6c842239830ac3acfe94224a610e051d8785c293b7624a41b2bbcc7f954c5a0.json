{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"CoursesView\",\n  data() {\n    return {\n      courses: [],\n      current_page: 1,\n      itemsPerPage: 5,\n      newCourse: {\n        course_code: \"\",\n        course_name: \"\",\n        course_description: \"\"\n      }\n    };\n  },\n  methods: {\n    getCourses() {\n      axios.get(\"http://127.0.0.1:8000/api/courses/\").then(response => {\n        this.courses.push(...response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    clearText() {\n      this.newCourse.course_code = \"\";\n      this.newCourse.course_name = \"\";\n      this.newCourse.course_description = \"\";\n    },\n    createNewCourse() {\n      axios.post(\"http://127.0.0.1:8000/api/courses/\", this.newCourse).then(response => {\n        this.courses.push(response.data);\n        this.clearText();\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    deleteCourse(id) {\n      axios.delete(\"http://127.0.0.1:8000/api/courses/\" + id).then(() => {\n        this.courses = this.courses.filter(course => course.course_id != id);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  },\n  mounted() {\n    this.getCourses();\n  },\n  computed: {\n    paginatedItems() {\n      const start = (this.current_page - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      return this.courses.slice(start, end);\n    },\n    totalPages() {\n      return Math.ceil(this.courses.length / this.itemsPerPage);\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","courses","current_page","itemsPerPage","newCourse","course_code","course_name","course_description","methods","getCourses","get","then","response","push","catch","error","console","log","clearText","createNewCourse","post","deleteCourse","id","delete","filter","course","course_id","mounted","computed","paginatedItems","start","end","slice","totalPages","Math","ceil","length"],"sources":["/Users/ineerajrajeev/Desktop/iitb/app/src/components/Courses.vue"],"sourcesContent":["<template>\n  <h1>Courses</h1>\n  <div class=\"row row-cols-2 g-3\">\n    <div class=\"col\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Add Course</h5>\n          <div class=\"mb-3 row\">\n            <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\"\n              >Course Code</label\n            >\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                v-model=\"newCourse.course_code\"\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\"\n              >Course Title</label\n            >\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                v-model=\"newCourse.course_name\"\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\"\n              >Description</label\n            >\n            <div class=\"col-sm-9\">\n              <textarea\n                class=\"form-control\"\n                id=\"exampleFormControlTextarea1\"\n                rows=\"3\"\n                v-model=\"newCourse.course_description\"\n              ></textarea>\n            </div>\n          </div>\n          <div class=\"d-grid gap-2\">\n            <button\n              class=\"btn btn-primary\"\n              type=\"button\"\n              @click=\"createNewCourse\"\n            >\n              Submit\n            </button>\n            <button class=\"btn btn-secondary\" type=\"button\" @click=\"clearText\">\n              Clear\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Find Course</h5>\n          <div class=\"mb-3 row\">\n            <div class=\"col-sm-12\">\n              <input type=\"text\" class=\"form-control\" />\n            </div>\n          </div>\n          <div class=\"accordion card-text\" id=\"accordionExample\">\n            <div\n              class=\"accordion-item\"\n              v-for=\"course in paginatedItems\"\n              :key=\"course.id\"\n            >\n              <h2 class=\"accordion-header\">\n                <button\n                  class=\"accordion-button collapsed\"\n                  type=\"button\"\n                  data-bs-toggle=\"collapse\"\n                  :data-bs-target=\"`#C${course.course_id}`\"\n                  aria-expanded=\"false\"\n                  :aria-controls=\"`C${course.course_id}`\"\n                >\n                  {{ course.course_name }}\n                </button>\n              </h2>\n              <div\n                :id=\"`C${course.course_id}`\"\n                class=\"accordion-collapse collapse\"\n                data-bs-parent=\"#accordionExample\"\n              >\n                <div class=\"accordion-body\">\n                  {{ course.course_description }}\n                </div>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-danger\"\n                  @click=\"deleteCourse(course.course_id)\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n          <nav class=\"card-footer text-body-secondary\">\n            <ul class=\"pagination\">\n              <li class=\"page-item\">\n                <a class=\"page-link\" href=\"#\" @click=\"current_page--\"\n                  >Previous</a\n                >\n              </li>\n              <li class=\"page-item\" v-for=\"page in totalPages\" :key=\"page\">\n                <a class=\"page-link\" href=\"#\" @click=\"current_page = page\">{{\n                  page\n                }}</a>\n              </li>\n              <li class=\"page-item\">\n                <a class=\"page-link\" @click=\"current_page++\">Next</a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"CoursesView\",\n  data() {\n    return {\n      courses: [],\n      current_page: 1,\n      itemsPerPage: 5,\n      newCourse: {\n        course_code: \"\",\n        course_name: \"\",\n        course_description: \"\",\n      },\n    };\n  },\n  methods: {\n    getCourses() {\n      axios\n        .get(\"http://127.0.0.1:8000/api/courses/\")\n        .then((response) => {\n          this.courses.push(...response.data);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    clearText() {\n      this.newCourse.course_code = \"\";\n      this.newCourse.course_name = \"\";\n      this.newCourse.course_description = \"\";\n    },\n    createNewCourse() {\n      axios\n        .post(\"http://127.0.0.1:8000/api/courses/\", this.newCourse)\n        .then((response) => {\n          this.courses.push(response.data);\n          this.clearText();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    deleteCourse(id) {\n      axios\n        .delete(\"http://127.0.0.1:8000/api/courses/\" + id)\n        .then(() => {\n          this.courses = this.courses.filter(\n            (course) => course.course_id != id\n          );\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  mounted() {\n    this.getCourses();\n  },\n  computed: {\n    paginatedItems() {\n      const start = (this.current_page - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      return this.courses.slice(start, end);\n    },\n    totalPages() {\n      return Math.ceil(this.courses.length / this.itemsPerPage);\n    },\n  },\n};\n</script>\n"],"mappings":";AAgIA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,CAAC;MACfC,YAAY,EAAE,CAAC;MACfC,SAAS,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,WAAW,EAAE,EAAE;QACfC,kBAAkB,EAAE;MACtB;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACXX,KAAI,CACDY,GAAG,CAAC,oCAAoC,EACxCC,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACX,OAAO,CAACY,IAAI,CAAC,GAAGD,QAAQ,CAACZ,IAAI,CAAC;MACrC,CAAC,EACAc,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;IACDG,SAASA,CAAA,EAAG;MACV,IAAI,CAACd,SAAS,CAACC,WAAU,GAAI,EAAE;MAC/B,IAAI,CAACD,SAAS,CAACE,WAAU,GAAI,EAAE;MAC/B,IAAI,CAACF,SAAS,CAACG,kBAAiB,GAAI,EAAE;IACxC,CAAC;IACDY,eAAeA,CAAA,EAAG;MAChBrB,KAAI,CACDsB,IAAI,CAAC,oCAAoC,EAAE,IAAI,CAAChB,SAAS,EACzDO,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACX,OAAO,CAACY,IAAI,CAACD,QAAQ,CAACZ,IAAI,CAAC;QAChC,IAAI,CAACkB,SAAS,CAAC,CAAC;MAClB,CAAC,EACAJ,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;IACDM,YAAYA,CAACC,EAAE,EAAE;MACfxB,KAAI,CACDyB,MAAM,CAAC,oCAAmC,GAAID,EAAE,EAChDX,IAAI,CAAC,MAAM;QACV,IAAI,CAACV,OAAM,GAAI,IAAI,CAACA,OAAO,CAACuB,MAAM,CAC/BC,MAAM,IAAKA,MAAM,CAACC,SAAQ,IAAKJ,EAClC,CAAC;MACH,CAAC,EACAR,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;EACF,CAAC;EACDY,OAAOA,CAAA,EAAG;IACR,IAAI,CAAClB,UAAU,CAAC,CAAC;EACnB,CAAC;EACDmB,QAAQ,EAAE;IACRC,cAAcA,CAAA,EAAG;MACf,MAAMC,KAAI,GAAI,CAAC,IAAI,CAAC5B,YAAW,GAAI,CAAC,IAAI,IAAI,CAACC,YAAY;MACzD,MAAM4B,GAAE,GAAID,KAAI,GAAI,IAAI,CAAC3B,YAAY;MACrC,OAAO,IAAI,CAACF,OAAO,CAAC+B,KAAK,CAACF,KAAK,EAAEC,GAAG,CAAC;IACvC,CAAC;IACDE,UAAUA,CAAA,EAAG;MACX,OAAOC,IAAI,CAACC,IAAI,CAAC,IAAI,CAAClC,OAAO,CAACmC,MAAK,GAAI,IAAI,CAACjC,YAAY,CAAC;IAC3D;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}