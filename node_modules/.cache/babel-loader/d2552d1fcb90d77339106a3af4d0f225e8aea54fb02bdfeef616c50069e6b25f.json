{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"InstancesView\",\n  data() {\n    return {\n      courses: [],\n      instances: [],\n      years: [],\n      semesters: [],\n      current_year: new Date().getFullYear() - 10,\n      find: {\n        year: null,\n        semester: null\n      },\n      newInstance: {\n        course_id: null,\n        year: null,\n        semester: null\n      }\n    };\n  },\n  methods: {\n    getInstances() {\n      axios.get(\"http://127.0.0.1:8000/api/instances/\").then(response => {\n        this.instances.push(...response.data);\n        this.years = [...new Set(this.instances.map(item => item.year))].sort((a, b) => a - b);\n        this.semesters = [...new Set(this.instances.map(item => item.semester))].sort((a, b) => a - b);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    clearText() {\n      this.newInstance.course = \"\";\n      this.newInstance.year = \"\";\n      this.newInstance.semester = \"\";\n    },\n    createNewInstance() {\n      if (this.newInstance.course_id == null || this.newInstance.year == null || this.newInstance.semester == null) {\n        alert(\"Please fill all fields\");\n      } else if (this.newInstance.semester > 8 || this.newInstance.semester < 1) {\n        alert(\"Invalid value for semester\");\n      } else {\n        axios.post(\"http://127.0.0.1:8000/api/instances/\", this.newInstance).then(() => {\n          this.getInstances();\n          this.clearText();\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    },\n    getCourses() {\n      axios.get(\"http://127.0.0.1:8000/api/courses/\").then(response => {\n        this.courses.push(...response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    deleteInstance(year, semester, course_id) {\n      axios.delete(`http://127.0.0.1:8000/api/instances/${year}/${semester}/${course_id}`).then(() => {\n        this.getInstances();\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    findInstances() {\n      axios.get(`http://127.0.0.1:8000/api/instances/${this.find.year}/${this.find.semester}/`).then(response => {\n        this.instances = [response.data];\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    clearFilter() {\n      this.find.year = null;\n      this.find.semester = null;\n      this.getInstances();\n    }\n  },\n  mounted() {\n    this.getInstances();\n    this.getCourses();\n  }\n};","map":{"version":3,"names":["axios","name","data","courses","instances","years","semesters","current_year","Date","getFullYear","find","year","semester","newInstance","course_id","methods","getInstances","get","then","response","push","Set","map","item","sort","a","b","catch","error","console","log","clearText","course","createNewInstance","alert","post","getCourses","deleteInstance","delete","findInstances","clearFilter","mounted"],"sources":["/Users/ineerajrajeev/Desktop/iitb/app/src/components/Instances.vue"],"sourcesContent":["<template>\n  <h1>Instances</h1>\n  <div class=\"row row-cols-2 g-3\">\n    <div class=\"col\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Add Instance</h5>\n          <div class=\"mb-3 row\">\n            <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\"\n              >Course</label\n            >\n            <div class=\"col-sm-9\">\n              <select\n                class=\"form-select\"\n                aria-label=\"Default select example\"\n                v-model=\"newInstance.course_id\"\n              >\n                <option selected disabled>Open this select menu</option>\n                <option\n                  v-for=\"course in courses\"\n                  :key=\"course.id\"\n                  :value=\"course.course_id\"\n                >\n                  {{ course.course_name }} ({{ course.course_code }})\n                </option>\n              </select>\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\"\n              >Year</label\n            >\n            <div class=\"col-sm-9\">\n              <select class=\"form-select\" v-model=\"newInstance.year\">\n                <option selected disabled>Open this select menu</option>\n                <option\n                  v-for=\"year in 15\"\n                  :key=\"year\"\n                  :value=\"current_year + year\"\n                >\n                  {{ current_year + year }}\n                </option>\n              </select>\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\"\n              >Semester</label\n            >\n            <div class=\"col-sm-9\">\n              <input\n                type=\"number\"\n                class=\"form-control\"\n                v-model=\"newInstance.semester\"\n              />\n            </div>\n          </div>\n          <div class=\"d-grid gap-2\">\n            <button\n              class=\"btn btn-primary\"\n              type=\"button\"\n              @click=\"createNewInstance\"\n            >\n              Submit\n            </button>\n            <button class=\"btn btn-secondary\" type=\"button\" @click=\"clearText\">\n              Clear\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Find Instance</h5>\n          <div class=\"row g-12 align-items-center\">\n            <div class=\"col-auto\">\n              <select class=\"form-select\" v-model=\"find.year\">\n                <option selected disabled>Select year</option>\n                <option v-for=\"year in years\" :key=\"year\" :value=\"year\">\n                  {{ year }}\n                </option>\n              </select>\n            </div>\n            <div class=\"col-auto\">\n              <select class=\"form-select\" v-model=\"find.semester\">\n                <option selected disabled>Select semester</option>\n                <option\n                  v-for=\"semester in semesters\"\n                  :key=\"semester\"\n                  :value=\"semester\"\n                >\n                  {{ semester }}\n                </option>\n              </select>\n            </div>\n            <div class=\"col-auto\">\n              <button\n                class=\"btn btn-primary\"\n                type=\"button\"\n                @click=\"findInstances\"\n              >\n                <i class=\"bi bi-search\"></i>\n              </button>\n            </div>\n            <div class=\"col-auto\">\n              <button\n                class=\"btn btn-danger\"\n                type=\"button\"\n                @click=\"findInstances\"\n              >\n                X\n              </button>\n            </div>\n          </div>\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Course Code</th>\n                <th scope=\"col\">Course</th>\n                <th scope=\"col\">Year</th>\n                <th scope=\"col\">Semester</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"instance in instances\" :key=\"instance.id\">\n                <td>{{ instance.course_code }}</td>\n                <td>{{ instance.course_name }}</td>\n                <td>{{ instance.year }}</td>\n                <td>{{ instance.semester }}</td>\n                <td>\n                  <button\n                    class=\"btn btn-danger\"\n                    @click=\"\n                      deleteInstance(\n                        instance.year,\n                        instance.semester,\n                        instance.course_id\n                      )\n                    \"\n                  >\n                    X\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"InstancesView\",\n  data() {\n    return {\n      courses: [],\n      instances: [],\n      years: [],\n      semesters: [],\n      current_year: new Date().getFullYear() - 10,\n      find: {\n        year: null,\n        semester: null,\n      },\n      newInstance: {\n        course_id: null,\n        year: null,\n        semester: null,\n      },\n    };\n  },\n  methods: {\n    getInstances() {\n      axios\n        .get(\"http://127.0.0.1:8000/api/instances/\")\n        .then((response) => {\n          this.instances.push(...response.data);\n          this.years = [\n            ...new Set(this.instances.map((item) => item.year)),\n          ].sort((a, b) => a - b);\n          this.semesters = [\n            ...new Set(this.instances.map((item) => item.semester)),\n          ].sort((a, b) => a - b);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    clearText() {\n      this.newInstance.course = \"\";\n      this.newInstance.year = \"\";\n      this.newInstance.semester = \"\";\n    },\n    createNewInstance() {\n      if (\n        this.newInstance.course_id == null ||\n        this.newInstance.year == null ||\n        this.newInstance.semester == null\n      ) {\n        alert(\"Please fill all fields\");\n      } else if (\n        this.newInstance.semester > 8 ||\n        this.newInstance.semester < 1\n      ) {\n        alert(\"Invalid value for semester\");\n      } else {\n        axios\n          .post(\"http://127.0.0.1:8000/api/instances/\", this.newInstance)\n          .then(() => {\n            this.getInstances();\n            this.clearText();\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    },\n    getCourses() {\n      axios\n        .get(\"http://127.0.0.1:8000/api/courses/\")\n        .then((response) => {\n          this.courses.push(...response.data);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    deleteInstance(year, semester, course_id) {\n      axios\n        .delete(\n          `http://127.0.0.1:8000/api/instances/${year}/${semester}/${course_id}`\n        )\n        .then(() => {\n          this.getInstances();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    findInstances() {\n      axios\n        .get(\n          `http://127.0.0.1:8000/api/instances/${this.find.year}/${this.find.semester}/`\n        )\n        .then((response) => {\n          this.instances = [response.data];\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    clearFilter() {\n      this.find.year = null;\n      this.find.semester = null;\n      this.getInstances();\n    },\n  },\n  mounted() {\n    this.getInstances();\n    this.getCourses();\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}